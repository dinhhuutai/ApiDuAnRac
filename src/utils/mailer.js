// mailer.js
const nodemailer = require("nodemailer");

const transporter = nodemailer.createTransport({
  host: "smtp.gmail.com", // Ho·∫∑c SMTP server c·ªßa b·∫°n
  port: 587,
  secure: false,
  auth: {
    user: "dinhhuutai20023107@gmail.com", // Email g·ª≠i
    pass: "pmcw jvrt jrjg bkkq",    // App password (kh√¥ng ph·∫£i m·∫≠t kh·∫©u ƒëƒÉng nh·∫≠p Gmail)
  },
});

async function sendSuggestionEmail({ to, subject, html }) {
  const info = await transporter.sendMail({
    from: '"H·ªá th·ªëng g√≥p √Ω Thu√¢Ã£n H∆∞ng Long An"',
    to, // chu·ªói email ph√¢n c√°ch b·∫±ng d·∫•u ph·∫©y
    subject,
    html,
  });

  console.log("üìß ƒê√£ g·ª≠i email:", info.messageId);
}

module.exports = { sendSuggestionEmail };
